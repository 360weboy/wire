<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Basic types test</title>
	<script>
		require = {
			debug: true,
			paths: {
				wire: '../wire',
				test: '../test'
			}
		};
	</script>

	<script src="../curl/src/curl.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		// Simple example of wiring in objects by reference using JSON ref syntax
		require(['wire'], function(wire) {
			wire({
				plugins: [
					{ module: 'wire/debug' }
				],
				// Order doesn't matter.  Forward refs are ok
				numberRef: { $ref: 'number' },
				objectRef: { $ref: 'object' },
				
				// Plain strings and numbers
				string: 'this is a string',
				
				number: 10,
				
				// Builtins that look like objects are supported directly
				date: new Date(),
				
				regex1: /^blah$/,
				regex2: new RegExp("^foobar$"),

				boolean1: true,
				boolean2: new Boolean(false),
				
				// As are plain objects, which also provide scoping
				object: {
					string: "I'm a nested a string",
					nested: {
						// Will reference object.string rather than
						// the top-level string because of scoping.
						nameRef: { $ref: 'string' },
					}
				},

				// Arrays are easy, too
				array: ["string", 10, { foo: "bar" }, [1, 2, 3], { a: [1, 2, 3], b: 4 }]
			}).then(
				function(context) {
					console.log("DONE", context);
				},
				function(err) {
					console.err(err);
				}
			);
			
		});
	</script>
</head>
<body>
</body>
</html>